# Machine config patch for node "4c4c4544-0037-4710-8054-b2c04f543732"

# You can write partial Talos machine config here which will override the default
# Talos machine config for this machine generated by Omni.

# example (changing the node hostname):
machine:
  network:
    hostname: "4c4c4544-0037-4710-8054-b2c04f543732"
    interfaces:
      - interface: eno1
        dhcp: false
        vlans:
          - vlanId: 250
            dhcp: true
  install:
    wipe: true
---
apiVersion: v1alpha1
kind: VolumeConfig
name: EPHEMERAL
provisioning:
  diskSelector:
    match: disk.transport == 'nvme'
  minSize: 2GB
  maxSize: 40GB
  grow: false
---
apiVersion: v1alpha1
kind: UserVolumeConfig
name: ceph-data # Name of the volume.
# The provisioning describes how the volume is provisioned.
provisioning:
  # The disk selector expression.
  diskSelector:
    match: disk.transport == "sata" # The Common Expression Language (CEL) expression to match the disk.
  minSize: 2.5GiB
  grow: true
# The filesystem describes how the volume is formatted.
filesystem:
  type: xfs # Filesystem type. Default is `xfs`.
---
apiVersion: v1alpha1
kind: UserVolumeConfig
name: nvme-data # Name of the volume.
# The provisioning describes how the volume is provisioned.
provisioning:
  # The disk selector expression.
  diskSelector:
    match: disk.transport == "nvme" # The Common Expression Language (CEL) expression to match the disk.
  minSize: 2.5GiB
  grow: true
# The filesystem describes how the volume is formatted.
filesystem:
  type: xfs # Filesystem type. Default is `xfs`.
